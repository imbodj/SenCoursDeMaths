import{_ as x}from"./BfTqIiWn.js";import{a as w,_ as B}from"./BB4cCHNO.js";import{d as y,h as m,k as j,o as _,j as l,b as s,e as n,a as i,l as r,t as a,c,i as N,n as V,w as A,u as E,_ as F}from"./IDwgxPXe.js";import{_ as L,a as P,b as D}from"./GqunamJA.js";import H from"./Crb7vpWo.js";import{u as I}from"./Di5aD89Z.js";import"./BDKNwZmu.js";const K=["src","alt"],R={class:"title"},S=["textContent"],T={class:"text-muted d-block"},q={key:0},z=["textContent"],G={class:"text-muted d-block mb-2"},J=["textContent"],M=y({__name:"BookCard",props:{book:{}},setup($){const e=$,d=m(()=>{let t=e.book.title;return e.book.subtitle&&(t+=": "+e.book.subtitle),t}),p=m(()=>e.book.authors.join(", ")),k=m(()=>`[${e.book.short}]`),h=m(()=>`/images/livres/${e.book.isbn10}.jpg`),g=m(()=>{const t=e.book.date.split("-");return`${t[2]}/${t[1]}/${t[0]}`});return(t,o)=>{const u=L,b=H,f=P,C=w,v=D;return _(),j(v,{id:t.book.short,class:"book"},{default:l(()=>[s(u,{cols:"12",md:"4",lg:"3",class:"d-flex align-items-center justify-content-center pt-3 pb-4 pt-md-0 pb-md-0"},{default:l(()=>[n("img",{class:"preview",src:i(h),alt:i(d)},null,8,K)]),_:1}),s(u,{class:"info",cols:"12",md:"8",lg:"9"},{default:l(()=>[n("h2",R,[n("strong",{textContent:a(t.book.title)},null,8,S),r(" "+a(t.book.subtitle),1)]),n("span",T,[r(a(i(p))+" • "+a(i(g))+" • Éditions "+a(t.book.publisher)+" ",1),t.book.edition?(_(),c("span",q,[r("• "+a(t.book.edition),1),o[0]||(o[0]=n("sup",null,"ème",-1)),o[1]||(o[1]=r(" édition"))])):N("",!0)]),n("p",{class:"mt-2 comment",textContent:a(t.book.comment)},null,8,z),n("small",G,[o[2]||(o[2]=n("u",null,"Référence :",-1)),o[3]||(o[3]=r()),n("strong",{textContent:a(i(k))},null,8,J),o[4]||(o[4]=r(". "))]),s(C,{class:"mt-2 align-self-start"},{default:l(()=>[s(f,{href:`${t.book.buy}`,variant:"dark"},{default:l(()=>[s(b,{name:"bi:cart"}),o[5]||(o[5]=r(" Acheter le livre "))]),_:1},8,["href"]),s(f,{href:`${t.book.website}`,variant:"secondary"},{default:l(()=>[s(b,{name:"bi:info-circle"}),o[6]||(o[6]=r(" Plus d'informations "))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["id"])}}}),O=V(M,[["__scopeId","data-v-c39d920c"]]),Q={key:0},U={key:1},W={key:2},nt=y({__name:"bibliographie",async setup($){let e,d;const{data:p,status:k,error:h}=([e,d]=A(()=>I("/_api/bibliography/","$c9yEwLLjKF")),e=await e,d(),e);return E({title:"Bibliographie"}),(g,t)=>{const o=x,u=B,b=F;return _(),c("div",null,[i(k)==="pending"?(_(),c("div",Q,[s(o)])):i(p)?(_(),c("div",U,[t[0]||(t[0]=n("h1",null,"Bibliographie",-1)),s(u,{"input-id":"book-search-field",items:i(p),"search-fields":["title","subtitle","short","authors","publisher"]},{default:l(f=>[s(O,{book:f.item},null,8,["book"])]),_:1},8,["items"])])):(_(),c("div",W,[s(b,{error:i(h)},null,8,["error"])]))])}}});export{nt as default};
