import{_ as R}from"./CcKpRu9k.js";import{_ as z,u as S}from"./DJacbh0V.js";import{_ as L}from"./BxHEnJBt.js";import{d as O,t as P,x as d,w as b,u as Q,c as n,a as e,b as m,e as h,q as r,i as v,h as C,o as s,m as $,y as F,_ as H}from"./EeM3nSPI.js";import{_ as T}from"./B9ssfbsm.js";import{_ as G}from"./DSpieXNS.js";import{_ as I}from"./BqBFUK_5.js";import{n as U}from"./DMwKI6Pt.js";import"./Cu4rHhga.js";import"./Bf9VCm91.js";import"./C9MUgvPo.js";import"./DKJ-rrCE.js";const J={key:0},K={key:1},M={key:0},W={key:1,class:"mb-0"},X=["textContent"],Y={key:2,class:"mt-4"},Z={key:0,class:"mb-0"},ee={key:3,class:"mt-4"},te={key:0,class:"mb-0"},se={key:4,class:"mt-4"},oe={key:0,class:"mb-0"},ne={key:2},ge=O({__name:"recherche",async setup(re){var V;let o,a;const _=(V=P().query.requete)==null?void 0:V.toString(),q=d(()=>_?U(_):".*"),{status:w,data:j}=([o,a]=b(()=>S("/_api/latex/lecons/index.json","$mCpmiEIoUo")),o=await o,a(),o),{status:A,data:B}=([o,a]=b(()=>S("/_api/latex/developpements/index.json","$gszzv3HPqk")),o=await o,a(),o),{status:D,data:E}=([o,a]=b(()=>S("/_api/latex/fiches/index.json","$OnOGsp1LDs")),o=await o,a(),o),y=g=>{const t=[];if(!g.value)return t;for(const x of g.value){const k=RegExp(q.value,"ig"),c=x;k.test(c["page-name-search"])&&t.push(c)}return t},l=d(()=>y(j)),i=d(()=>y(B)),u=d(()=>y(E)),f=d(()=>l.value.length===0&&i.value.length===0&&u.value.length===0);return Q({title:"Recherche"}),(g,t)=>{const x=R,k=z,c=L,N=H;return s(),n("div",null,[e(w)==="pending"||e(A)==="pending"||e(D)==="pending"?(s(),n("div",J,[m(x)])):e(l)&&e(i)&&e(u)?(s(),n("div",K,[t[5]||(t[5]=h("h2",null,"Recherche",-1)),e(f)?(s(),n("p",M," Votre recherche n'a donné aucun résultat. ")):(s(),n("p",W,[m(k,{fallback:"Voici les résultats pour votre recherche."},{default:v(()=>[t[0]||(t[0]=$(" Voici les résultats pour votre recherche de ",-1)),h("q",{textContent:F(e(_)&&e(_).length>0?e(_):"Tout")},null,8,X),t[1]||(t[1]=$(". ",-1))]),_:1,__:[0,1]})])),e(l)&&!e(f)?(s(),n("div",Y,[t[2]||(t[2]=h("h3",null,"Leçons",-1)),e(l).length===0?(s(),n("p",Z," Aucun plan de leçon trouvé pour cette recherche. ")):r("",!0),e(l).length>0?(s(),C(c,{key:1,"input-id":"lesson-search-field",items:e(l)},{default:v(p=>[m(T,{lesson:p.item},null,8,["lesson"])]),_:1},8,["items"])):r("",!0)])):r("",!0),e(i)&&!e(f)?(s(),n("div",ee,[t[3]||(t[3]=h("h3",null,"Développements",-1)),e(i).length===0?(s(),n("p",te," Aucun développement trouvé pour cette recherche. ")):r("",!0),e(i).length>0?(s(),C(c,{key:1,"input-id":"development-search-field",items:e(i)},{default:v(p=>[m(G,{development:p.item},null,8,["development"])]),_:1},8,["items"])):r("",!0)])):r("",!0),e(u)&&!e(f)?(s(),n("div",se,[t[4]||(t[4]=h("h3",null,"Fiches",-1)),e(u).length===0?(s(),n("p",oe," Aucune fiche trouvée pour cette recherche. ")):r("",!0),e(u).length>0?(s(),C(c,{key:1,"input-id":"sheet-search-field",items:e(u)},{default:v(p=>[m(I,{sheet:p.item},null,8,["sheet"])]),_:1},8,["items"])):r("",!0)])):r("",!0)])):(s(),n("div",ne,[m(N,{error:"500"})]))])}}});export{ge as default};
